$(document).ready(function(){

$(function(){
	$('.scroll-top-wrapper').on('click', scrollToTop);
});
 
function scrollToTop() {
	verticalOffset = typeof(verticalOffset) != 'undefined' ? verticalOffset : 0;
	element = $('body');
	offset = element.offset();
	offsetTop = offset.top;
	$('html, body').animate({scrollTop: offsetTop}, 500, 'linear');
}



$.fn.scrollEnd = function(callback, timeout) {          
  $(this).scroll(function(){
    var $this = $(this);
    if ($this.data('scrollTimeout')) {
      clearTimeout($this.data('scrollTimeout'));
    }
    $this.data('scrollTimeout', setTimeout(callback,timeout));
  });
};

$(window).scroll(function() {
    $('.scroll-top-wrapper').removeClass('show');
});

$(window).scrollEnd(function(){
    if ($(window).scrollTop() > 200) {
        $('.scroll-top-wrapper').addClass('show');
    //alert('stopped scrolling');
    }
}, 300);
    });
 $(document).ready(function() {
     //$("[data-toggle=tooltip]").tooltip();

//$('input.form-control:empty, textarea:empty').addClass('empty');

$('input.form-control').keyup(function () {
  if ($(this).val().trim() !== '') {
    $(this).removeClass('empty');
  } else {
    $(this).addClass('empty');
  }
});

var input = document.getElementById('from-phone');
input.oninvalid = function(event) {
    if(event.target.validity.patternMismatch) {
    event.target.setCustomValidity('Mobile No. must be a valid 10 digit number e.g. 9876543210');
    }
    else {
        event.target.setCustomValidity('');
    }
}
input.onkeyup = function(event) {
    if(!event.target.validity.patternMismatch) {
        event.target.setCustomValidity('');
    }
}
 });
var slug = function(str) {
    var $slug = '';
    var trimmed = $.trim(str);
    $slug = trimmed.replace(/[^a-z0-9-]/gi, '-').
    replace(/-+/g, '-').
    replace(/^-|-$/g, '');
    return $slug.toLowerCase();
}

$("ul.filters li a").on('click',function(){
    $("ul.filters").find('.active').removeClass('active')
    $(this).parent().addClass('active')
    let filterValue = slug(this.text)
    if(filterValue == 'all') {
        $("div.gallery-pt--body>.item").show()
    }
    else {
        let parent = $('div.gallery-pt--body')
        parent.parent().height(parent.parent().height())
        parent.slideUp(500,function(){
            $(this).find('img[data-album!="'+filterValue+'"]').closest('div.item')
            .hide()
            .parent().find('img[data-album="'+filterValue+'"]').closest('div.item')
            .show()
        }).slideDown()
        
    }
});
$(document).ready(function($) {
    $(".clickable").click(function() {
        window.document.location = $(this).data("href");
    });
    
    var options = {"particles":{"number":{"value":149,"density":{"enable":true,"value_area":650.4033491425909}},"color":{"value":"#ffffff"},"shape":{"type":"star","stroke":{"width":0,"color":"#000000"},"polygon":{"nb_sides":5},"image":{"src":"img/github.svg","width":70,"height":100}},"opacity":{"value":1,"random":true,"anim":{"enable":false,"speed":1,"opacity_min":0.1,"sync":false}},"size":{"value":4,"random":true,"anim":{"enable":true,"speed":100,"size_min":0.1,"sync":false}},"line_linked":{"enable":true,"distance":150,"color":"#ffffff","opacity":0.12,"width":1.5},"move":{"enable":true,"speed":5.5782952832645452,"direction":"none","random":true,"straight":false,"out_mode":"out","bounce":false,"attract":{"enable":false,"rotateX":600,"rotateY":1200}}},"interactivity":{"detect_on":"canvas","events":{"onhover":{"enable":true,"mode":"repulse"},"onclick":{"enable":true,"mode":"push"},"resize":true},"modes":{"grab":{"distance":200,"line_linked":{"opacity":0.8}},"bubble":{"distance":200,"size":10,"duration":2,"opacity":8,"speed":1},"repulse":{"distance":80,"duration":0.4},"push":{"particles_nb":4},"remove":{"particles_nb":2}}},"retina_detect":true};
particlesJS("particle", options);
    
    var head = {
  strings: ["Events:", "Robotics", "Coding", "Gaming", "Fun Events"],
  typeSpeed: 4,
        loop: true,
        loopCount: Infinity
}

var typed = new Typed("#head", head);
    
});

    function init() {
        var imgDefer = document.getElementsByTagName('img');
        for (var i = 0; i < imgDefer.length; i++) {
        if (imgDefer[i].getAttribute('data-src')) {
      imgDefer[i].setAttribute('src',imgDefer[i].getAttribute('data-src'));
        }
        }
    }
    
    window.onload = function() {
        setTimeout( function() {
            init()
        }, 2000);
    };
   

